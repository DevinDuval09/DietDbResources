{% extends "base.html" %}
{% block content %}
<a href="/">Home</a>
<h1>Meals</h1>
    <div class="date_range">
    <p><label for="start_date">Start Date:</label>
    <input id="start_date" type = "date" size = 35 value="{{ view.kwargs.startdate_string }}">
    <label for="end_date">End Date:</label>
    <input id="end_date" type = "date" size = 35 value="{{ view.kwargs.enddate_string }}"></p>
    </div>
    <div id="food_info">
        <table class>
            <tr>
                <th>Date</th><th>Food</th><th>Quantity</th><th>Calories</th>
            </tr>
            {% for item in object_list %}
            {% widthratio item.food.calories_unit 1 item.qty as calories %}
            <tr><td>{{item.cdate}}</td><td>{{item.food.description}}</td><td>{{item.qty}}</td><td>{{calories|floatformat}}</td></tr>
            {% endfor %}
        </table>
    </div>
{% endblock %}
{% block inputbox %}
<form id="add_food" method="post">
    {% csrf_token %}
    <p><label for="date_input">Enter the date:</label>
    <input name="date_input" type = "date" size = 35></p>
    <p><label for="food_input">Enter the food eaten:</label>
    <input name="food_input" type = "text" size=35>
    <input name="food_id" type="hidden"></p>
    <p><label for="qty_input">Enter the quantity eaten:</label>
    <input name="qty_input" type = "numeric" size=35></p>
    <p><label for="total_cals">Total Calories:</label>
    <label name="total_cals" id="total_cals" size=35></p>
    <p><button type="submit" class="btn btn-default"&gt;>Submit</button></p> 
</form>
{% load static %}
<p><label id="errors" hidden></label></p>
<script src="{% static 'js/total_calories.js' %}" type="text/javascript">
</script>
<script src="{% static 'js/update_meals.js' %}" type="text/javascript">
</script>
{% endblock %}